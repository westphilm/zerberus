server:
  verbosity: 0
  interface: 127.0.0.1
  port: 5335
  do-ip4: yes
  do-ip6: no
  do-udp: yes
  do-tcp: yes
  access-control: 127.0.0.1 allow
  prefetch: yes
  qname-minimisation: yes
  harden-dnssec-stripped: yes
  hide-identity: yes
  hide-version: yes
  minimal-responses: yes
  rrset-cache-size: 256m
  msg-cache-size: 128m
  so-rcvbuf: 4m
  so-sndbuf: 4m
  cache-max-ttl: 86400
  cache-min-ttl: 60
  unwanted-reply-threshold: 10000000
  edns-buffer-size: 1232

  # Lokale Overrides falls gewünscht
  include: "/etc/zerberus/credentials/unbound-local-overrides.conf"

  # Optionaler Fallback (Plain DNS oder alternativer Resolver)
  # Datei kann leer bleiben oder gezielt einen zweiten forward-zone Block enthalten
  include: "/etc/zerberus/credentials/unbound-fallback.conf"

  # Private Netze nicht nach draußen leaken
  private-address: 10.0.0.0/8
  private-address: 172.16.0.0/12
  private-address: 192.168.0.0/16
  private-address: 169.254.0.0/16
  private-address: 127.0.0.0/8

forward-zone:
  name: "."
  forward-addr: 1.1.1.1@853    # Cloudflare
  forward-addr: 1.0.0.1@853
  forward-addr: 9.9.9.9@853    # Quad9
  forward-addr: 149.112.112.112@853

  forward-tls-upstream: yes

# Optional: Root Hints (aktuell), sonst nutzt Unbound eingebaute
# root-hints: "/var/lib/unbound/root.hints"
